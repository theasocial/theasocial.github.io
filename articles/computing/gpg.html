<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>GPG – The Asocial</title>
    <link rel="stylesheet" type="text/css" href="../../css/default.css" />
    <link rel="icon" type="image/png" href="../../images/favicon.png" />
  </head>
  <!--




                                `-/+ssyhhhyyso+/.
                            ./shddddddddddddddddddyo:`
                         `+hddddddddhssodoosyhdddddddds:
                       .sddddddy+:`    -d`     -/sddddddh+
                     `odddddy/`        od/         -odddddh:
                    -hddddy-           hdd           `+ddddds`
                   /ddddd/            .ddd/            `yddddh`
                  :ddddd.             +dmdd`             oddddh`
                 `ddddd.              ddddd+              odddds
                 odddd/              /dd:ydd.             `hdddm.
                `ddddd              `hdd -mdy              /ddddo
                .dddds              sdd/  ydd:             .mdddy
                .mddds             /dds   -ddd`            `mdddh
                `ddddh            :ddy`    odds            :dddds
                 ydddm-          -ddmhdddyo:ddd/           ydddd:
                 -mdddy`        :dddhsooshddmddd-         :ddddh
                  odddds       :ddy-      .+ddddh.       -ddddd-
                   sddddy.    +dds           /dddh`     /ddddd:
                    oddddd+` oddh`            `oddy`  .yddddd-
                     -hdddddyddd+               :ddh:sddddds`
                      `+ddddddmm/                .dddddddy-
                         /ydddddddys+/::::://os/  -dddds-
                           .+ydddddddddddddddddd-  /s/`
                               -/oshddddddddddys/
                                      `...``



    -->
  <body>
    <a href="../../" id="home">
      <img src="../../images/logo.svg" alt="The Asocial" />
    </a>
    <div id="content">
      
      <h1 id="title">GPG</h1>
      
      <div class="info computing">
  
  <img src="../../images/articles/gpg.svg" alt />
  
  
  
  <p class="abstract">Data encryption and signing with GPG</p>
  

  <table>
    
    <tr>
      <th>
        Image source
      </th>
      <td>
        <a href="https://gnupg.org/">Image source</a>
      </td>
    </tr>
    
    
    
    <tr>
      <th>
        Image license
      </th>
      <td>
        <a href="http://creativecommons.org/licenses/by-sa/3.0/">CC BY-SA 3.0</a> or <a href="http://www.gnu.org/licenses/">GPLv3+</a>, <a href="https://gnupg.org/copying.html">apparently</a>
      </td>
    </tr>
    


    
    
    <tr>
      <th>
        Date
      </th>
      <td>
        October 11, 2015
      </td>
    </tr>
    
    
    <tr>
      <th>
        URI
      </th>
      <td>
        <a href="https://gnupg.org/">https://gnupg.org/</a>
      </td>
    </tr>
    
    
    <tr>
      <th>
        Category
      </th>
      <td>
        <a class="cat" href="../../categories/computing.html">computing</a>
      </td>
    </tr>
    
    
    <tr>
      <th>
        Tags
      </th>
      <td>
        security
      </td>
    </tr>
    
    
  </table>
</div>

<div id="article">
  <h2 id="introduction">Introduction</h2>
<p><a href="https://en.wikipedia.org/wiki/Cryptography">Cryptography</a> may help to enforce both <a href="https://en.wikipedia.org/wiki/Information_security">information security</a> and <a href="https://en.wikipedia.org/wiki/Right_to_privacy">the right</a> to <a href="https://en.wikipedia.org/wiki/Privacy">privacy</a>. Unfortunately, most of computer users do not value those things, and even if they do not mind using encryption (which becomes more trendy nowadays, since all that <a href="https://en.wikipedia.org/wiki/Mass_surveillance">mass surveilance</a> is confirmed and is not a conspiracy theory anymore; though a teapot integration would still be picked over both privacy and security by most users), it appears to be hard for them to set everything up. Here is an attempt to explain the basics to the newbie computer users.</p>
<h2 id="basic-rules">Basic rules</h2>
<ul>
<li>Encryption software should be reviewed by multiple security experts and users in order to be more or less trustworthy, hence:
<ul>
<li><a href="https://en.wikipedia.org/wiki/Proprietary_software">Proprietary software</a> is a security distaster, and proprietary encryption software is even more so.</li>
<li>Web-based encryption is almost as bad as proprietary software.</li>
<li>Popular and commonly used software and algorithms are generally more reliable than custom software and algorithms. But do not confuse trendy and actively marketed things with serious ones.</li>
<li>Pretty much everything that is secure and available to a regular user is also <a href="https://en.wikipedia.org/wiki/Free_software">free</a>.</li>
</ul></li>
<li>In many cases you would want <a href="https://en.wikipedia.org/wiki/End-to-end_encryption">end-to-end encryption</a>.</li>
<li>There is <a href="https://en.wikipedia.org/wiki/Symmetric-key_algorithm">symmetric</a> cryptography, where messages are encrypted and decrypted with the same key, and <a href="https://en.wikipedia.org/wiki/Public-key_cryptography">asymmetric</a> (public-key) cryptography, where two different keys are used for those purposes. We will mostly focus on the latter here.</li>
<li>“<a href="https://www.schneier.com/blog/archives/2011/04/schneiers_law.html">Schneier’s Law</a>”: “Anyone, from the most clueless amateur to the best cryptographer, can create an algorithm that he himself can’t break.”</li>
</ul>
<h2 id="warning">Warning</h2>
<p>If your concern is privacy, it is recommended to take a look at <a href="../../articles/computing/otr.html">OTR</a> and Tor instead.</p>
<h2 id="gpg">GPG</h2>
<p><a href="https://gnupg.org/">The GNU Privacy Guard</a> is a rather useful encryption tool: it can be used to encrypt and/or to sign mail (and mail clients usually can invoke it automatically; <a href="https://en.wikipedia.org/wiki/Pretty_Good_Privacy#OpenPGP">OpenPGP</a>, which it implements, is a standard way to encrypt mail, by the way), files, or any other kinds of messages. It is <a href="https://gnupg.org/documentation/index.html">well-documented</a>, and there are <code>man gpg</code> and <code>info gpg</code>, but let’s highlight a few of the common tasks.</p>
<p>There are various wrappers, including graphical ones, but we will focus on the primary console tool: it is simple enough, and, well, it is the primary tool. It might be a little easier to use with a single key, or at least a default one, but we will aim multiple keys, using ”The Asocial“ as a user name, and setting it explicitly whenever appropriate.</p>
<h3 id="getting-started">Getting started</h3>
<p>Once you have GPG installed, you will need a key pair – a public key to share, and a private (or “secret”) key to keep for yourself: <code>gpg --gen-key</code>. It will ask a few questions, but it is fine to use default values if not sure what those mean.</p>
<p>To list the existing keys, there are <code>gpg --list-public-keys</code> and <code>gpg --list-secret-keys</code> commands.</p>
<h3 id="encrypting-and-decrypting-messages">Encrypting and decrypting messages</h3>
<p>Let’s encrypt the first message now: we only need a recipient public key for that, but will write it to ourselves (so we have it already). One way to do that is <code>gpg --encrypt --armor --recipient 'The Asocial'</code> (<code>--armor</code> stands for “ASCII armor”, as opposed to binary data, so you can copy and paste it easily and virtually anywhere): type a message, hit <code>C-d</code> (<code>Ctrl + D</code>, <code>EOT</code>, end of transmission), and that’s it – the output is an encrypted message.</p>
<p>To decrypt the message, you will need the corresponding private key, and the command is simply <code>gpg</code> (or <code>gpg --decrypt</code>) – after pasting an encrypted message there and hitting <code>C-d</code>, it should show us the original message.</p>
<h3 id="key-export-and-import">Key export and import</h3>
<p>To enable someone to set us as an encrypted message recipient, we should share our public key with them. Be careful to not expose your private key here! But that’s pretty simple, too: <code>gpg --armor --export 'The Asocial'</code> (or <code>gpg -o key.asc --export 'The Asocial'</code> to write it into a binary file).</p>
<p>To import a key, either <code>gpg --import</code> and paste it there, or <code>gpg --import key.asc</code>. Or just <code>gpg</code> to check it.</p>
<p>Later you can publish your keys on a <a href="https://en.wikipedia.org/wiki/Key_server_%28cryptographic%29">key server</a>, so that others can retrieve the key rather securely (though it is a bigger problem than it may seem to exchange the keys securely), finding it simply by name or email.</p>
<h3 id="signing-and-verifying-messages">Signing and verifying messages</h3>
<p>Now you can exchange encrypted messages, but there is one important thing left: you can not be sure who sent you a message when you receive one – even if it is encrypted, that could be anyone who knows your public key (and, since it is public, normally you wouldn’t hide it). To <a href="https://en.wikipedia.org/wiki/Digital_signature">sign</a> a message, one basically encrypts it (or, rather, its <a href="https://en.wikipedia.org/wiki/Hash_function">hash</a>, sometimes together with date and other <a href="https://en.wikipedia.org/wiki/Metadata">metadata</a>) with a private key, so others can try to decrypt it with the public key – and to see whether the corresponding private key belongs to the right person or not.</p>
<p>In order to sign a message with GnuPG, you do something like <code>gpg --armor --clearsign --local-user 'The Asocial'</code>, and then as usual – writing a message, hitting <code>C-d</code>. To verify, just <code>gpg</code> (or <code>gpg --verify</code>), and paste the message there.</p>
<p>Now you can sign, encrypt, sign and then encrypt, encrypt and then sign, and even sign and/or encrypt messages and files with multiple keys!</p>
<h3 id="more-on-gpg">More on GPG</h3>
<p>As mentioned above, there is good <a href="https://gnupg.org/documentation/index.html">documentation</a>, as well as <code>man</code> and <code>info</code> pages; various <a href="https://duckduckgo.com/?q=gpg+cheat+sheet&amp;ia=cheatsheet&amp;iax=1">cheat sheets</a> can easily be found, too.</p>
<p>If you are curious how it works, there is a good explanation of one of the core algorithms, <a href="https://en.wikipedia.org/wiki/RSA_%28cryptosystem%29">RSA</a>, in Wikipedia, and there are good introductory books, such as Schneier’s famous <a href="https://www.schneier.com/books/applied_cryptography/">Applied Cryptography</a>.</p>
<h3 id="related-software">Related software</h3>
<p>Any decent mail client would support GPG, and most of GNU/Linux distributions are shipped with both GPG and some kind of a graphical wrapper to manage keys, and probably to work with GPG in other ways. So, just look around in your system, and chances are that it is already there.</p>
</div>

    </div>
    <div id="footer">
      This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative
      Commons Attribution 4.0 International License</a>.
    </div>
  </body>
</html>
